<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun Feb 03 04:20:16 CST 2019 -->
<title>RecoveryTarget (core 6.1.0-SNAPSHOT API)</title>
<meta name="date" content="2019-02-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RecoveryTarget (core 6.1.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-all.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/elasticsearch/indices/recovery/RecoveryState.VerifyIndex.html" title="org.elasticsearch.indices.recovery中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/elasticsearch/indices/recovery/RecoveryTarget.html" target="_top">框架</a></li>
<li><a href="RecoveryTarget.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.elasticsearch.indices.recovery</div>
<h2 title="类 RecoveryTarget" class="title">类 RecoveryTarget</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html" title="org.elasticsearch.common.util.concurrent中的类">org.elasticsearch.common.util.concurrent.AbstractRefCounted</a></li>
<li>
<ul class="inheritance">
<li>org.elasticsearch.indices.recovery.RecoveryTarget</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="../../../../org/elasticsearch/common/util/concurrent/RefCounted.html" title="org.elasticsearch.common.util.concurrent中的接口">RefCounted</a>, <a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口">RecoveryTargetHandler</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">RecoveryTarget</span>
extends <a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html" title="org.elasticsearch.common.util.concurrent中的类">AbstractRefCounted</a>
implements <a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口">RecoveryTargetHandler</a></pre>
<div class="block">Represents a recovery where the current node is the target node of the recovery. To track recoveries in a central place, instances of
 this class are created through <a href="../../../../org/elasticsearch/indices/recovery/RecoveriesCollection.html" title="org.elasticsearch.indices.recovery中的类"><code>RecoveriesCollection</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#RecoveryTarget-org.elasticsearch.index.shard.IndexShard-org.elasticsearch.cluster.node.DiscoveryNode-org.elasticsearch.indices.recovery.PeerRecoveryTargetService.RecoveryListener-java.util.function.LongConsumer-">RecoveryTarget</a></span>(<a href="../../../../org/elasticsearch/index/shard/IndexShard.html" title="org.elasticsearch.index.shard中的类">IndexShard</a>&nbsp;indexShard,
              <a href="../../../../org/elasticsearch/cluster/node/DiscoveryNode.html" title="org.elasticsearch.cluster.node中的类">DiscoveryNode</a>&nbsp;sourceNode,
              <a href="../../../../org/elasticsearch/indices/recovery/PeerRecoveryTargetService.RecoveryListener.html" title="org.elasticsearch.indices.recovery中的接口">PeerRecoveryTargetService.RecoveryListener</a>&nbsp;listener,
              java.util.function.LongConsumer&nbsp;ensureClusterStateVersionCallback)</code>
<div class="block">Creates a new recovery target object that represents a recovery to the provided shard.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#cancel-java.lang.String-">cancel</a></span>(java.lang.String&nbsp;reason)</code>
<div class="block">cancel the recovery. calling this method will clean temporary files and release the store
 unless this object is in use (in which case it will be cleaned once all ongoing users call
 <a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html#decRef--"><code>AbstractRefCounted.decRef()</code></a>
 
 if <a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#cancellableThreads--"><code>cancellableThreads()</code></a> was used, the threads will be interrupted.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/common/util/CancellableThreads.html" title="org.elasticsearch.common.util中的类">CancellableThreads</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#cancellableThreads--">cancellableThreads</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#cleanFiles-int-org.elasticsearch.index.store.Store.MetadataSnapshot-">cleanFiles</a></span>(int&nbsp;totalTranslogOps,
          <a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="org.elasticsearch.index.store中的类">Store.MetadataSnapshot</a>&nbsp;sourceMetaData)</code>
<div class="block">After all source files has been sent over, this command is sent to the target so it can clean any local
 files that are not part of the source store</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#closeInternal--">closeInternal</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#ensureClusterStateVersion-long-">ensureClusterStateVersion</a></span>(long&nbsp;clusterStateVersion)</code>
<div class="block">Blockingly waits for cluster state with at least clusterStateVersion to be available</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#fail-org.elasticsearch.indices.recovery.RecoveryFailedException-boolean-">fail</a></span>(<a href="../../../../org/elasticsearch/indices/recovery/RecoveryFailedException.html" title="org.elasticsearch.indices.recovery中的类">RecoveryFailedException</a>&nbsp;e,
    boolean&nbsp;sendShardFailure)</code>
<div class="block">fail the recovery and call listener</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#finalizeRecovery-long-">finalizeRecovery</a></span>(long&nbsp;globalCheckpoint)</code>
<div class="block">The finalize request refreshes the engine now that new segments are available, enables garbage collection of tombstone files, and
 updates the global checkpoint.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>org.apache.lucene.store.IndexOutput</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#getOpenIndexOutput-java.lang.String-">getOpenIndexOutput</a></span>(java.lang.String&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#getTempNameForFile-java.lang.String-">getTempNameForFile</a></span>(java.lang.String&nbsp;origFile)</code>
<div class="block">Get a temporary name for the provided file name.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#handoffPrimaryContext-org.elasticsearch.index.seqno.GlobalCheckpointTracker.PrimaryContext-">handoffPrimaryContext</a></span>(<a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.PrimaryContext.html" title="org.elasticsearch.index.seqno中的类">GlobalCheckpointTracker.PrimaryContext</a>&nbsp;primaryContext)</code>
<div class="block">Handoff the primary context between the relocation source and the relocation target.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/index/shard/IndexShard.html" title="org.elasticsearch.index.shard中的类">IndexShard</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#indexShard--">indexShard</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#indexTranslogOperations-java.util.List-int-">indexTranslogOperations</a></span>(java.util.List&lt;<a href="../../../../org/elasticsearch/index/translog/Translog.Operation.html" title="org.elasticsearch.index.translog中的接口">Translog.Operation</a>&gt;&nbsp;operations,
                       int&nbsp;totalTranslogOps)</code>
<div class="block">Index a set of translog operations on the target</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#lastAccessTime--">lastAccessTime</a></span>()</code>
<div class="block">return the last time this RecoveryStatus was used (based on System.nanoTime()</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#markAsDone--">markAsDone</a></span>()</code>
<div class="block">mark the current recovery as done</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#notifyListener-org.elasticsearch.indices.recovery.RecoveryFailedException-boolean-">notifyListener</a></span>(<a href="../../../../org/elasticsearch/indices/recovery/RecoveryFailedException.html" title="org.elasticsearch.indices.recovery中的类">RecoveryFailedException</a>&nbsp;e,
              boolean&nbsp;sendShardFailure)</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>org.apache.lucene.store.IndexOutput</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#openAndPutIndexOutput-java.lang.String-org.elasticsearch.index.store.StoreFileMetaData-org.elasticsearch.index.store.Store-">openAndPutIndexOutput</a></span>(java.lang.String&nbsp;fileName,
                     <a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="org.elasticsearch.index.store中的类">StoreFileMetaData</a>&nbsp;metaData,
                     <a href="../../../../org/elasticsearch/index/store/Store.html" title="org.elasticsearch.index.store中的类">Store</a>&nbsp;store)</code>
<div class="block">Creates an <code>IndexOutput</code> for the given file name.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#prepareForTranslogOperations-int-">prepareForTranslogOperations</a></span>(int&nbsp;totalTranslogOps)</code>
<div class="block">Implementation of <a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口"><code>RecoveryTargetHandler</code></a></div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#receiveFileInfo-java.util.List-java.util.List-java.util.List-java.util.List-int-">receiveFileInfo</a></span>(java.util.List&lt;java.lang.String&gt;&nbsp;phase1FileNames,
               java.util.List&lt;java.lang.Long&gt;&nbsp;phase1FileSizes,
               java.util.List&lt;java.lang.String&gt;&nbsp;phase1ExistingFileNames,
               java.util.List&lt;java.lang.Long&gt;&nbsp;phase1ExistingFileSizes,
               int&nbsp;totalTranslogOps)</code>
<div class="block">Notifies the target of the files it is going to receive</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#recoveryId--">recoveryId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>org.apache.lucene.store.IndexOutput</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#removeOpenIndexOutputs-java.lang.String-">removeOpenIndexOutputs</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">remove and <code>IndexOutput</code> for a given file.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#renameAllTempFiles--">renameAllTempFiles</a></span>()</code>
<div class="block">renames all temporary files to their true name, potentially overriding existing files</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html" title="org.elasticsearch.indices.recovery中的类">RecoveryTarget</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#retryCopy--">retryCopy</a></span>()</code>
<div class="block">Returns a fresh recovery target to retry recovery from the same source node onto the same shard and using the same listener.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#setLastAccessTime--">setLastAccessTime</a></span>()</code>
<div class="block">sets the lasAccessTime flag to now</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="org.elasticsearch.index.shard中的类">ShardId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#shardId--">shardId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/cluster/node/DiscoveryNode.html" title="org.elasticsearch.cluster.node中的类">DiscoveryNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#sourceNode--">sourceNode</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryState.Stage.html" title="org.elasticsearch.indices.recovery中的枚举">RecoveryState.Stage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#stage--">stage</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryState.html" title="org.elasticsearch.indices.recovery中的类">RecoveryState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#state--">state</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/index/store/Store.html" title="org.elasticsearch.index.store中的类">Store</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#store--">store</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#writeFileChunk-org.elasticsearch.index.store.StoreFileMetaData-long-org.elasticsearch.common.bytes.BytesReference-boolean-int-">writeFileChunk</a></span>(<a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="org.elasticsearch.index.store中的类">StoreFileMetaData</a>&nbsp;fileMetaData,
              long&nbsp;position,
              <a href="../../../../org/elasticsearch/common/bytes/BytesReference.html" title="org.elasticsearch.common.bytes中的类">BytesReference</a>&nbsp;content,
              boolean&nbsp;lastChunk,
              int&nbsp;totalTranslogOps)</code>
<div class="block">writes a partial file chunk to the target store</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.elasticsearch.common.util.concurrent.AbstractRefCounted">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.elasticsearch.common.util.concurrent.<a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html" title="org.elasticsearch.common.util.concurrent中的类">AbstractRefCounted</a></h3>
<code><a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html#alreadyClosed--">alreadyClosed</a>, <a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html#decRef--">decRef</a>, <a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html#getName--">getName</a>, <a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html#incRef--">incRef</a>, <a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html#refCount--">refCount</a>, <a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html#tryIncRef--">tryIncRef</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="RecoveryTarget-org.elasticsearch.index.shard.IndexShard-org.elasticsearch.cluster.node.DiscoveryNode-org.elasticsearch.indices.recovery.PeerRecoveryTargetService.RecoveryListener-java.util.function.LongConsumer-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RecoveryTarget</h4>
<pre>public&nbsp;RecoveryTarget(<a href="../../../../org/elasticsearch/index/shard/IndexShard.html" title="org.elasticsearch.index.shard中的类">IndexShard</a>&nbsp;indexShard,
                      <a href="../../../../org/elasticsearch/cluster/node/DiscoveryNode.html" title="org.elasticsearch.cluster.node中的类">DiscoveryNode</a>&nbsp;sourceNode,
                      <a href="../../../../org/elasticsearch/indices/recovery/PeerRecoveryTargetService.RecoveryListener.html" title="org.elasticsearch.indices.recovery中的接口">PeerRecoveryTargetService.RecoveryListener</a>&nbsp;listener,
                      java.util.function.LongConsumer&nbsp;ensureClusterStateVersionCallback)</pre>
<div class="block">Creates a new recovery target object that represents a recovery to the provided shard.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>indexShard</code> - local shard where we want to recover to</dd>
<dd><code>sourceNode</code> - source node of the recovery where we recover from</dd>
<dd><code>listener</code> - called when recovery is completed/failed</dd>
<dd><code>ensureClusterStateVersionCallback</code> - callback to ensure that the current node is at least on a cluster state with the provided
                                          version; necessary for primary relocation so that new primary knows about all other ongoing
                                          replica recoveries when replicating documents (see <a href="../../../../org/elasticsearch/indices/recovery/RecoverySourceHandler.html" title="org.elasticsearch.indices.recovery中的类"><code>RecoverySourceHandler</code></a>)</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="retryCopy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retryCopy</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html" title="org.elasticsearch.indices.recovery中的类">RecoveryTarget</a>&nbsp;retryCopy()</pre>
<div class="block">Returns a fresh recovery target to retry recovery from the same source node onto the same shard and using the same listener.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>a copy of this recovery target</dd>
</dl>
</li>
</ul>
<a name="recoveryId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoveryId</h4>
<pre>public&nbsp;long&nbsp;recoveryId()</pre>
</li>
</ul>
<a name="shardId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shardId</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/index/shard/ShardId.html" title="org.elasticsearch.index.shard中的类">ShardId</a>&nbsp;shardId()</pre>
</li>
</ul>
<a name="indexShard--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexShard</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/index/shard/IndexShard.html" title="org.elasticsearch.index.shard中的类">IndexShard</a>&nbsp;indexShard()</pre>
</li>
</ul>
<a name="sourceNode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sourceNode</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/cluster/node/DiscoveryNode.html" title="org.elasticsearch.cluster.node中的类">DiscoveryNode</a>&nbsp;sourceNode()</pre>
</li>
</ul>
<a name="state--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>state</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/indices/recovery/RecoveryState.html" title="org.elasticsearch.indices.recovery中的类">RecoveryState</a>&nbsp;state()</pre>
</li>
</ul>
<a name="cancellableThreads--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancellableThreads</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/common/util/CancellableThreads.html" title="org.elasticsearch.common.util中的类">CancellableThreads</a>&nbsp;cancellableThreads()</pre>
</li>
</ul>
<a name="lastAccessTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastAccessTime</h4>
<pre>public&nbsp;long&nbsp;lastAccessTime()</pre>
<div class="block">return the last time this RecoveryStatus was used (based on System.nanoTime()</div>
</li>
</ul>
<a name="setLastAccessTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastAccessTime</h4>
<pre>public&nbsp;void&nbsp;setLastAccessTime()</pre>
<div class="block">sets the lasAccessTime flag to now</div>
</li>
</ul>
<a name="store--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/index/store/Store.html" title="org.elasticsearch.index.store中的类">Store</a>&nbsp;store()</pre>
</li>
</ul>
<a name="stage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stage</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/indices/recovery/RecoveryState.Stage.html" title="org.elasticsearch.indices.recovery中的枚举">RecoveryState.Stage</a>&nbsp;stage()</pre>
</li>
</ul>
<a name="renameAllTempFiles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renameAllTempFiles</h4>
<pre>public&nbsp;void&nbsp;renameAllTempFiles()
                        throws java.io.IOException</pre>
<div class="block">renames all temporary files to their true name, potentially overriding existing files</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="cancel-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>public&nbsp;void&nbsp;cancel(java.lang.String&nbsp;reason)</pre>
<div class="block">cancel the recovery. calling this method will clean temporary files and release the store
 unless this object is in use (in which case it will be cleaned once all ongoing users call
 <a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html#decRef--"><code>AbstractRefCounted.decRef()</code></a>
 <p>
 if <a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#cancellableThreads--"><code>cancellableThreads()</code></a> was used, the threads will be interrupted.</div>
</li>
</ul>
<a name="fail-org.elasticsearch.indices.recovery.RecoveryFailedException-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fail</h4>
<pre>public&nbsp;void&nbsp;fail(<a href="../../../../org/elasticsearch/indices/recovery/RecoveryFailedException.html" title="org.elasticsearch.indices.recovery中的类">RecoveryFailedException</a>&nbsp;e,
                 boolean&nbsp;sendShardFailure)</pre>
<div class="block">fail the recovery and call listener</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>e</code> - exception that encapsulating the failure</dd>
<dd><code>sendShardFailure</code> - indicates whether to notify the master of the shard failure</dd>
</dl>
</li>
</ul>
<a name="notifyListener-org.elasticsearch.indices.recovery.RecoveryFailedException-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyListener</h4>
<pre>public&nbsp;void&nbsp;notifyListener(<a href="../../../../org/elasticsearch/indices/recovery/RecoveryFailedException.html" title="org.elasticsearch.indices.recovery中的类">RecoveryFailedException</a>&nbsp;e,
                           boolean&nbsp;sendShardFailure)</pre>
</li>
</ul>
<a name="markAsDone--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markAsDone</h4>
<pre>public&nbsp;void&nbsp;markAsDone()</pre>
<div class="block">mark the current recovery as done</div>
</li>
</ul>
<a name="getTempNameForFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTempNameForFile</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTempNameForFile(java.lang.String&nbsp;origFile)</pre>
<div class="block">Get a temporary name for the provided file name.</div>
</li>
</ul>
<a name="getOpenIndexOutput-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOpenIndexOutput</h4>
<pre>public&nbsp;org.apache.lucene.store.IndexOutput&nbsp;getOpenIndexOutput(java.lang.String&nbsp;key)</pre>
</li>
</ul>
<a name="removeOpenIndexOutputs-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeOpenIndexOutputs</h4>
<pre>public&nbsp;org.apache.lucene.store.IndexOutput&nbsp;removeOpenIndexOutputs(java.lang.String&nbsp;name)</pre>
<div class="block">remove and <code>IndexOutput</code> for a given file. It is the caller's responsibility to close it</div>
</li>
</ul>
<a name="openAndPutIndexOutput-java.lang.String-org.elasticsearch.index.store.StoreFileMetaData-org.elasticsearch.index.store.Store-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openAndPutIndexOutput</h4>
<pre>public&nbsp;org.apache.lucene.store.IndexOutput&nbsp;openAndPutIndexOutput(java.lang.String&nbsp;fileName,
                                                                 <a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="org.elasticsearch.index.store中的类">StoreFileMetaData</a>&nbsp;metaData,
                                                                 <a href="../../../../org/elasticsearch/index/store/Store.html" title="org.elasticsearch.index.store中的类">Store</a>&nbsp;store)
                                                          throws java.io.IOException</pre>
<div class="block">Creates an <code>IndexOutput</code> for the given file name. Note that the
 IndexOutput actually point at a temporary file.
 <p>
 Note: You can use <a href="../../../../org/elasticsearch/indices/recovery/RecoveryTarget.html#getOpenIndexOutput-java.lang.String-"><code>getOpenIndexOutput(String)</code></a> with the same filename to retrieve the same IndexOutput
 at a later stage</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="closeInternal--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeInternal</h4>
<pre>protected&nbsp;void&nbsp;closeInternal()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html#closeInternal--">closeInternal</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../org/elasticsearch/common/util/concurrent/AbstractRefCounted.html" title="org.elasticsearch.common.util.concurrent中的类">AbstractRefCounted</a></code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">覆盖:</span></dt>
<dd><code>toString</code>&nbsp;在类中&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="prepareForTranslogOperations-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareForTranslogOperations</h4>
<pre>public&nbsp;void&nbsp;prepareForTranslogOperations(int&nbsp;totalTranslogOps)
                                  throws java.io.IOException</pre>
<div class="block">Implementation of <a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口"><code>RecoveryTargetHandler</code></a></div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#prepareForTranslogOperations-int-">prepareForTranslogOperations</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口">RecoveryTargetHandler</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>totalTranslogOps</code> - total translog operations expected to be sent</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="finalizeRecovery-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalizeRecovery</h4>
<pre>public&nbsp;void&nbsp;finalizeRecovery(long&nbsp;globalCheckpoint)</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#finalizeRecovery-long-">RecoveryTargetHandler</a></code></span></div>
<div class="block">The finalize request refreshes the engine now that new segments are available, enables garbage collection of tombstone files, and
 updates the global checkpoint.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#finalizeRecovery-long-">finalizeRecovery</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口">RecoveryTargetHandler</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>globalCheckpoint</code> - the global checkpoint on the recovery source</dd>
</dl>
</li>
</ul>
<a name="ensureClusterStateVersion-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureClusterStateVersion</h4>
<pre>public&nbsp;void&nbsp;ensureClusterStateVersion(long&nbsp;clusterStateVersion)</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#ensureClusterStateVersion-long-">RecoveryTargetHandler</a></code></span></div>
<div class="block">Blockingly waits for cluster state with at least clusterStateVersion to be available</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#ensureClusterStateVersion-long-">ensureClusterStateVersion</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口">RecoveryTargetHandler</a></code></dd>
</dl>
</li>
</ul>
<a name="handoffPrimaryContext-org.elasticsearch.index.seqno.GlobalCheckpointTracker.PrimaryContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handoffPrimaryContext</h4>
<pre>public&nbsp;void&nbsp;handoffPrimaryContext(<a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.PrimaryContext.html" title="org.elasticsearch.index.seqno中的类">GlobalCheckpointTracker.PrimaryContext</a>&nbsp;primaryContext)</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#handoffPrimaryContext-org.elasticsearch.index.seqno.GlobalCheckpointTracker.PrimaryContext-">RecoveryTargetHandler</a></code></span></div>
<div class="block">Handoff the primary context between the relocation source and the relocation target.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#handoffPrimaryContext-org.elasticsearch.index.seqno.GlobalCheckpointTracker.PrimaryContext-">handoffPrimaryContext</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口">RecoveryTargetHandler</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>primaryContext</code> - the primary context from the relocation source</dd>
</dl>
</li>
</ul>
<a name="indexTranslogOperations-java.util.List-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexTranslogOperations</h4>
<pre>public&nbsp;long&nbsp;indexTranslogOperations(java.util.List&lt;<a href="../../../../org/elasticsearch/index/translog/Translog.Operation.html" title="org.elasticsearch.index.translog中的接口">Translog.Operation</a>&gt;&nbsp;operations,
                                    int&nbsp;totalTranslogOps)
                             throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#indexTranslogOperations-java.util.List-int-">RecoveryTargetHandler</a></code></span></div>
<div class="block">Index a set of translog operations on the target</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#indexTranslogOperations-java.util.List-int-">indexTranslogOperations</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口">RecoveryTargetHandler</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>operations</code> - operations to index</dd>
<dd><code>totalTranslogOps</code> - current number of total operations expected to be indexed</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the local checkpoint on the target shard</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="receiveFileInfo-java.util.List-java.util.List-java.util.List-java.util.List-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveFileInfo</h4>
<pre>public&nbsp;void&nbsp;receiveFileInfo(java.util.List&lt;java.lang.String&gt;&nbsp;phase1FileNames,
                            java.util.List&lt;java.lang.Long&gt;&nbsp;phase1FileSizes,
                            java.util.List&lt;java.lang.String&gt;&nbsp;phase1ExistingFileNames,
                            java.util.List&lt;java.lang.Long&gt;&nbsp;phase1ExistingFileSizes,
                            int&nbsp;totalTranslogOps)</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#receiveFileInfo-java.util.List-java.util.List-java.util.List-java.util.List-int-">RecoveryTargetHandler</a></code></span></div>
<div class="block">Notifies the target of the files it is going to receive</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#receiveFileInfo-java.util.List-java.util.List-java.util.List-java.util.List-int-">receiveFileInfo</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口">RecoveryTargetHandler</a></code></dd>
</dl>
</li>
</ul>
<a name="cleanFiles-int-org.elasticsearch.index.store.Store.MetadataSnapshot-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanFiles</h4>
<pre>public&nbsp;void&nbsp;cleanFiles(int&nbsp;totalTranslogOps,
                       <a href="../../../../org/elasticsearch/index/store/Store.MetadataSnapshot.html" title="org.elasticsearch.index.store中的类">Store.MetadataSnapshot</a>&nbsp;sourceMetaData)
                throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#cleanFiles-int-org.elasticsearch.index.store.Store.MetadataSnapshot-">RecoveryTargetHandler</a></code></span></div>
<div class="block">After all source files has been sent over, this command is sent to the target so it can clean any local
 files that are not part of the source store</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#cleanFiles-int-org.elasticsearch.index.store.Store.MetadataSnapshot-">cleanFiles</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口">RecoveryTargetHandler</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>totalTranslogOps</code> - an update number of translog operations that will be replayed later on</dd>
<dd><code>sourceMetaData</code> - meta data of the source store</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="writeFileChunk-org.elasticsearch.index.store.StoreFileMetaData-long-org.elasticsearch.common.bytes.BytesReference-boolean-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeFileChunk</h4>
<pre>public&nbsp;void&nbsp;writeFileChunk(<a href="../../../../org/elasticsearch/index/store/StoreFileMetaData.html" title="org.elasticsearch.index.store中的类">StoreFileMetaData</a>&nbsp;fileMetaData,
                           long&nbsp;position,
                           <a href="../../../../org/elasticsearch/common/bytes/BytesReference.html" title="org.elasticsearch.common.bytes中的类">BytesReference</a>&nbsp;content,
                           boolean&nbsp;lastChunk,
                           int&nbsp;totalTranslogOps)
                    throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#writeFileChunk-org.elasticsearch.index.store.StoreFileMetaData-long-org.elasticsearch.common.bytes.BytesReference-boolean-int-">RecoveryTargetHandler</a></code></span></div>
<div class="block">writes a partial file chunk to the target store</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html#writeFileChunk-org.elasticsearch.index.store.StoreFileMetaData-long-org.elasticsearch.common.bytes.BytesReference-boolean-int-">writeFileChunk</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口">RecoveryTargetHandler</a></code></dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-all.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/elasticsearch/indices/recovery/RecoveryState.VerifyIndex.html" title="org.elasticsearch.indices.recovery中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../org/elasticsearch/indices/recovery/RecoveryTargetHandler.html" title="org.elasticsearch.indices.recovery中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/elasticsearch/indices/recovery/RecoveryTarget.html" target="_top">框架</a></li>
<li><a href="RecoveryTarget.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
