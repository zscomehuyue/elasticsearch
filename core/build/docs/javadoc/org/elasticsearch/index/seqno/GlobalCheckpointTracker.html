<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun Feb 03 04:20:10 CST 2019 -->
<title>GlobalCheckpointTracker (core 6.1.0-SNAPSHOT API)</title>
<meta name="date" content="2019-02-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="GlobalCheckpointTracker (core 6.1.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-all.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointSyncAction.Request.html" title="org.elasticsearch.index.seqno中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.CheckpointState.html" title="org.elasticsearch.index.seqno中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/elasticsearch/index/seqno/GlobalCheckpointTracker.html" target="_top">框架</a></li>
<li><a href="GlobalCheckpointTracker.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.elasticsearch.index.shard.AbstractIndexShardComponent">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.elasticsearch.index.seqno</div>
<h2 title="类 GlobalCheckpointTracker" class="title">类 GlobalCheckpointTracker</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html" title="org.elasticsearch.index.shard中的类">org.elasticsearch.index.shard.AbstractIndexShardComponent</a></li>
<li>
<ul class="inheritance">
<li>org.elasticsearch.index.seqno.GlobalCheckpointTracker</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="../../../../org/elasticsearch/index/shard/IndexShardComponent.html" title="org.elasticsearch.index.shard中的接口">IndexShardComponent</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">GlobalCheckpointTracker</span>
extends <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html" title="org.elasticsearch.index.shard中的类">AbstractIndexShardComponent</a></pre>
<div class="block">This class is responsible of tracking the global checkpoint. The global checkpoint is the highest sequence number for which all lower (or
 equal) sequence number have been processed on all shards that are currently active. Since shards count as "active" when the master starts
 them, and before this primary shard has been notified of this fact, we also include shards that have completed recovery. These shards
 have received all old operations via the recovery mechanism and are kept up to date by the various replications actions. The set of
 shards that are taken into account for the global checkpoint calculation are called the "in-sync shards".
 <p>
 The global checkpoint is maintained by the primary shard and is replicated to all the replicas (via <a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointSyncAction.html" title="org.elasticsearch.index.seqno中的类"><code>GlobalCheckpointSyncAction</code></a>).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.CheckpointState.html" title="org.elasticsearch.index.seqno中的类">GlobalCheckpointTracker.CheckpointState</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.PrimaryContext.html" title="org.elasticsearch.index.seqno中的类">GlobalCheckpointTracker.PrimaryContext</a></span></code>
<div class="block">Represents the sequence number component of the primary context.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.elasticsearch.index.shard.AbstractIndexShardComponent">
<!--   -->
</a>
<h3>从类继承的字段&nbsp;org.elasticsearch.index.shard.<a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html" title="org.elasticsearch.index.shard中的类">AbstractIndexShardComponent</a></h3>
<code><a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#deprecationLogger">deprecationLogger</a>, <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#indexSettings">indexSettings</a>, <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#logger">logger</a>, <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#shardId">shardId</a></code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#abortRelocationHandoff--">abortRelocationHandoff</a></span>()</code>
<div class="block">Fails a relocation handoff attempt.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#activatePrimaryMode-long-">activatePrimaryMode</a></span>(long&nbsp;localCheckpoint)</code>
<div class="block">Initializes the global checkpoint tracker in primary mode (see <a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#primaryMode"><code>primaryMode</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#activateWithPrimaryContext-org.elasticsearch.index.seqno.GlobalCheckpointTracker.PrimaryContext-">activateWithPrimaryContext</a></span>(<a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.PrimaryContext.html" title="org.elasticsearch.index.seqno中的类">GlobalCheckpointTracker.PrimaryContext</a>&nbsp;primaryContext)</code>
<div class="block">Activates the global checkpoint tracker in primary mode (see <a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#primaryMode"><code>primaryMode</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#completeRelocationHandoff--">completeRelocationHandoff</a></span>()</code>
<div class="block">Marks a relocation handoff attempt as successful.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#getGlobalCheckpoint--">getGlobalCheckpoint</a></span>()</code>
<div class="block">Returns the global checkpoint for the shard.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/index/shard/ReplicationGroup.html" title="org.elasticsearch.index.shard中的类">ReplicationGroup</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#getReplicationGroup--">getReplicationGroup</a></span>()</code>
<div class="block">Returns the current replication group for the shard.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.CheckpointState.html" title="org.elasticsearch.index.seqno中的类">GlobalCheckpointTracker.CheckpointState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#getTrackedLocalCheckpointForShard-java.lang.String-">getTrackedLocalCheckpointForShard</a></span>(java.lang.String&nbsp;allocationId)</code>
<div class="block">Returns the local checkpoint information tracked for a specific shard.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#initiateTracking-java.lang.String-">initiateTracking</a></span>(java.lang.String&nbsp;allocationId)</code>
<div class="block">Called when the recovery process for a shard is ready to open the engine on the target shard.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#markAllocationIdAsInSync-java.lang.String-long-">markAllocationIdAsInSync</a></span>(java.lang.String&nbsp;allocationId,
                        long&nbsp;localCheckpoint)</code>
<div class="block">Marks the shard with the provided allocation ID as in-sync with the primary shard.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#pendingInSync--">pendingInSync</a></span>()</code>
<div class="block">Whether the are shards blocking global checkpoint advancement.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.PrimaryContext.html" title="org.elasticsearch.index.seqno中的类">GlobalCheckpointTracker.PrimaryContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#startRelocationHandoff--">startRelocationHandoff</a></span>()</code>
<div class="block">Initiates a relocation handoff and returns the corresponding primary context.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#updateFromMaster-long-java.util.Set-org.elasticsearch.cluster.routing.IndexShardRoutingTable-java.util.Set-">updateFromMaster</a></span>(long&nbsp;applyingClusterStateVersion,
                java.util.Set&lt;java.lang.String&gt;&nbsp;inSyncAllocationIds,
                <a href="../../../../org/elasticsearch/cluster/routing/IndexShardRoutingTable.html" title="org.elasticsearch.cluster.routing中的类">IndexShardRoutingTable</a>&nbsp;routingTable,
                java.util.Set&lt;java.lang.String&gt;&nbsp;pre60AllocationIds)</code>
<div class="block">Notifies the tracker of the current allocation IDs in the cluster state.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#updateGlobalCheckpointForShard-java.lang.String-long-">updateGlobalCheckpointForShard</a></span>(java.lang.String&nbsp;allocationId,
                              long&nbsp;globalCheckpoint)</code>
<div class="block">Update the local knowledge of the global checkpoint for the specified allocation ID.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#updateGlobalCheckpointOnReplica-long-java.lang.String-">updateGlobalCheckpointOnReplica</a></span>(long&nbsp;globalCheckpoint,
                               java.lang.String&nbsp;reason)</code>
<div class="block">Updates the global checkpoint on a replica shard after it has been updated by the primary.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#updateLocalCheckpoint-java.lang.String-long-">updateLocalCheckpoint</a></span>(java.lang.String&nbsp;allocationId,
                     long&nbsp;localCheckpoint)</code>
<div class="block">Notifies the service to update the local checkpoint for the shard with the provided allocation ID.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.elasticsearch.index.shard.AbstractIndexShardComponent">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.elasticsearch.index.shard.<a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html" title="org.elasticsearch.index.shard中的类">AbstractIndexShardComponent</a></h3>
<code><a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#indexSettings--">indexSettings</a>, <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#nodeName--">nodeName</a>, <a href="../../../../org/elasticsearch/index/shard/AbstractIndexShardComponent.html#shardId--">shardId</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getReplicationGroup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplicationGroup</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/index/shard/ReplicationGroup.html" title="org.elasticsearch.index.shard中的类">ReplicationGroup</a>&nbsp;getReplicationGroup()</pre>
<div class="block">Returns the current replication group for the shard.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the replication group</dd>
</dl>
</li>
</ul>
<a name="getGlobalCheckpoint--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalCheckpoint</h4>
<pre>public&nbsp;long&nbsp;getGlobalCheckpoint()</pre>
<div class="block">Returns the global checkpoint for the shard.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the global checkpoint</dd>
</dl>
</li>
</ul>
<a name="updateGlobalCheckpointOnReplica-long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateGlobalCheckpointOnReplica</h4>
<pre>public&nbsp;void&nbsp;updateGlobalCheckpointOnReplica(long&nbsp;globalCheckpoint,
                                            java.lang.String&nbsp;reason)</pre>
<div class="block">Updates the global checkpoint on a replica shard after it has been updated by the primary.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>globalCheckpoint</code> - the global checkpoint</dd>
<dd><code>reason</code> - the reason the global checkpoint was updated</dd>
</dl>
</li>
</ul>
<a name="updateGlobalCheckpointForShard-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateGlobalCheckpointForShard</h4>
<pre>public&nbsp;void&nbsp;updateGlobalCheckpointForShard(java.lang.String&nbsp;allocationId,
                                           long&nbsp;globalCheckpoint)</pre>
<div class="block">Update the local knowledge of the global checkpoint for the specified allocation ID.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>allocationId</code> - the allocation ID to update the global checkpoint for</dd>
<dd><code>globalCheckpoint</code> - the global checkpoint</dd>
</dl>
</li>
</ul>
<a name="activatePrimaryMode-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activatePrimaryMode</h4>
<pre>public&nbsp;void&nbsp;activatePrimaryMode(long&nbsp;localCheckpoint)</pre>
<div class="block">Initializes the global checkpoint tracker in primary mode (see <a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#primaryMode"><code>primaryMode</code></a>. Called on primary activation or promotion.</div>
</li>
</ul>
<a name="updateFromMaster-long-java.util.Set-org.elasticsearch.cluster.routing.IndexShardRoutingTable-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFromMaster</h4>
<pre>public&nbsp;void&nbsp;updateFromMaster(long&nbsp;applyingClusterStateVersion,
                             java.util.Set&lt;java.lang.String&gt;&nbsp;inSyncAllocationIds,
                             <a href="../../../../org/elasticsearch/cluster/routing/IndexShardRoutingTable.html" title="org.elasticsearch.cluster.routing中的类">IndexShardRoutingTable</a>&nbsp;routingTable,
                             java.util.Set&lt;java.lang.String&gt;&nbsp;pre60AllocationIds)</pre>
<div class="block">Notifies the tracker of the current allocation IDs in the cluster state.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>applyingClusterStateVersion</code> - the cluster state version being applied when updating the allocation IDs from the master</dd>
<dd><code>inSyncAllocationIds</code> - the allocation IDs of the currently in-sync shard copies</dd>
<dd><code>routingTable</code> - the shard routing table</dd>
<dd><code>pre60AllocationIds</code> - the allocation IDs of shards that are allocated to pre-6.0 nodes</dd>
</dl>
</li>
</ul>
<a name="initiateTracking-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initiateTracking</h4>
<pre>public&nbsp;void&nbsp;initiateTracking(java.lang.String&nbsp;allocationId)</pre>
<div class="block">Called when the recovery process for a shard is ready to open the engine on the target shard. Ensures that the right data structures
 have been set up locally to track local checkpoint information for the shard.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>allocationId</code> - the allocation ID of the shard for which recovery was initiated</dd>
</dl>
</li>
</ul>
<a name="markAllocationIdAsInSync-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markAllocationIdAsInSync</h4>
<pre>public&nbsp;void&nbsp;markAllocationIdAsInSync(java.lang.String&nbsp;allocationId,
                                     long&nbsp;localCheckpoint)
                              throws java.lang.InterruptedException</pre>
<div class="block">Marks the shard with the provided allocation ID as in-sync with the primary shard. This method will block until the local checkpoint
 on the specified shard advances above the current global checkpoint.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>allocationId</code> - the allocation ID of the shard to mark as in-sync</dd>
<dd><code>localCheckpoint</code> - the current local checkpoint on the shard</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="updateLocalCheckpoint-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateLocalCheckpoint</h4>
<pre>public&nbsp;void&nbsp;updateLocalCheckpoint(java.lang.String&nbsp;allocationId,
                                  long&nbsp;localCheckpoint)</pre>
<div class="block">Notifies the service to update the local checkpoint for the shard with the provided allocation ID. If the checkpoint is lower than
 the currently known one, this is a no-op. If the allocation ID is not tracked, it is ignored.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>allocationId</code> - the allocation ID of the shard to update the local checkpoint for</dd>
<dd><code>localCheckpoint</code> - the local checkpoint for the shard</dd>
</dl>
</li>
</ul>
<a name="startRelocationHandoff--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startRelocationHandoff</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.PrimaryContext.html" title="org.elasticsearch.index.seqno中的类">GlobalCheckpointTracker.PrimaryContext</a>&nbsp;startRelocationHandoff()</pre>
<div class="block">Initiates a relocation handoff and returns the corresponding primary context.</div>
</li>
</ul>
<a name="abortRelocationHandoff--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortRelocationHandoff</h4>
<pre>public&nbsp;void&nbsp;abortRelocationHandoff()</pre>
<div class="block">Fails a relocation handoff attempt.</div>
</li>
</ul>
<a name="completeRelocationHandoff--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>completeRelocationHandoff</h4>
<pre>public&nbsp;void&nbsp;completeRelocationHandoff()</pre>
<div class="block">Marks a relocation handoff attempt as successful. Moves the tracker into replica mode.</div>
</li>
</ul>
<a name="activateWithPrimaryContext-org.elasticsearch.index.seqno.GlobalCheckpointTracker.PrimaryContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activateWithPrimaryContext</h4>
<pre>public&nbsp;void&nbsp;activateWithPrimaryContext(<a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.PrimaryContext.html" title="org.elasticsearch.index.seqno中的类">GlobalCheckpointTracker.PrimaryContext</a>&nbsp;primaryContext)</pre>
<div class="block">Activates the global checkpoint tracker in primary mode (see <a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.html#primaryMode"><code>primaryMode</code></a>. Called on primary relocation target during
 primary relocation handoff.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>primaryContext</code> - the primary context used to initialize the state</dd>
</dl>
</li>
</ul>
<a name="pendingInSync--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingInSync</h4>
<pre>public&nbsp;boolean&nbsp;pendingInSync()</pre>
<div class="block">Whether the are shards blocking global checkpoint advancement. Used by tests.</div>
</li>
</ul>
<a name="getTrackedLocalCheckpointForShard-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getTrackedLocalCheckpointForShard</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.CheckpointState.html" title="org.elasticsearch.index.seqno中的类">GlobalCheckpointTracker.CheckpointState</a>&nbsp;getTrackedLocalCheckpointForShard(java.lang.String&nbsp;allocationId)</pre>
<div class="block">Returns the local checkpoint information tracked for a specific shard. Used by tests.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-all.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointSyncAction.Request.html" title="org.elasticsearch.index.seqno中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../org/elasticsearch/index/seqno/GlobalCheckpointTracker.CheckpointState.html" title="org.elasticsearch.index.seqno中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/elasticsearch/index/seqno/GlobalCheckpointTracker.html" target="_top">框架</a></li>
<li><a href="GlobalCheckpointTracker.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.elasticsearch.index.shard.AbstractIndexShardComponent">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
